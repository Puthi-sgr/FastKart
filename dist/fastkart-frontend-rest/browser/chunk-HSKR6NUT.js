import{A as m,B as E,Bc as B,C as u,D as c,E as a,H as w,I as l,J as x,Oa as S,R as j,S as f,T as C,_ as h,ca as A,ea as I,g as b,i as v,jc as D,nb as O,p as y,ta as R}from"./chunk-KVC4I6X3.js";var T=new c("recaptcha-language"),N=new c("recaptcha-base-url"),z=new c("recaptcha-nonce-tag"),P=new c("recaptcha-settings"),H=new c("recaptcha-v3-site-key"),F=new c("recaptcha-loader-options");function K(n,e,p,{url:t,lang:i,nonce:s}={}){window.ng2recaptchaloaded=()=>{p(grecaptcha)};let r=document.createElement("script");r.innerHTML="";let{url:o,nonce:g}=e(new URL(t||"https://www.google.com/recaptcha/api.js"));o.searchParams.set("render",n==="explicit"?n:n.key),o.searchParams.set("onload","ng2recaptchaloaded"),o.searchParams.set("trustedtypes","true"),i&&o.searchParams.set("hl",i),r.src=o.href;let d=g||s;d&&r.setAttribute("nonce",d),r.async=!0,r.defer=!0,document.head.appendChild(r)}function U({v3SiteKey:n,onBeforeLoad:e,onLoaded:p}){let t=n?{key:n}:"explicit";M.loadScript(t,e,p)}var M={loadScript:K,newLoadScript:U};function q(n){return n.asObservable().pipe(y(e=>e!==null))}var k=(()=>{let e=class e{constructor(t,i,s,r,o,g){this.platformId=t,this.language=i,this.baseUrl=s,this.nonce=r,this.v3SiteKey=o,this.options=g;let d=this.init();this.ready=d?q(d):v()}init(){if(e.ready)return e.ready;if(!O(this.platformId))return;let t=new b(null);return e.ready=t,M.newLoadScript({v3SiteKey:this.v3SiteKey,onBeforeLoad:i=>{if(this.options?.onBeforeLoad)return this.options.onBeforeLoad(i);let s=new URL(this.baseUrl??i);return this.language&&s.searchParams.set("hl",this.language),{url:s,nonce:this.nonce}},onLoaded:i=>{let s=i;this.options?.onLoaded&&(s=this.options.onLoaded(i)),t.next(s)}}),t}};e.ready=null,e.\u0275fac=function(i){return new(i||e)(a(C),a(T,8),a(N,8),a(z,8),a(H,8),a(F,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let n=e;return n})(),V=0,G=(()=>{let e=class e{constructor(t,i,s,r){this.elementRef=t,this.loader=i,this.zone=s,this.id=`ngrecaptcha-${V++}`,this.errorMode="default",this.resolved=new f,this.error=new f,this.errored=new f,r&&(this.siteKey=r.siteKey,this.theme=r.theme,this.type=r.type,this.size=r.size,this.badge=r.badge)}ngAfterViewInit(){this.subscription=this.loader.ready.subscribe(t=>{t!=null&&t.render instanceof Function&&(this.grecaptcha=t,this.renderRecaptcha())})}ngOnDestroy(){this.grecaptchaReset(),this.subscription&&this.subscription.unsubscribe()}execute(){this.size==="invisible"&&(this.widget!=null?this.grecaptcha.execute(this.widget):this.executeRequested=!0)}reset(){this.widget!=null&&(this.grecaptcha.getResponse(this.widget)&&this.resolved.emit(null),this.grecaptchaReset())}get __unsafe_widgetValue(){return this.widget!=null?this.grecaptcha.getResponse(this.widget):null}expired(){this.resolved.emit(null)}onError(t){this.error.emit(t),this.errored.emit(t)}captchaResponseCallback(t){this.resolved.emit(t)}grecaptchaReset(){this.widget!=null&&this.zone.runOutsideAngular(()=>this.grecaptcha.reset(this.widget))}renderRecaptcha(){let t={badge:this.badge,callback:i=>{this.zone.run(()=>this.captchaResponseCallback(i))},"expired-callback":()=>{this.zone.run(()=>this.expired())},sitekey:this.siteKey,size:this.size,tabindex:this.tabIndex,theme:this.theme,type:this.type};this.errorMode==="handled"&&(t["error-callback"]=(...i)=>{this.zone.run(()=>this.onError(i))}),this.widget=this.grecaptcha.render(this.elementRef.nativeElement,t),this.executeRequested===!0&&(this.executeRequested=!1,this.execute())}};e.\u0275fac=function(i){return new(i||e)(h(j),h(k),h(A),h(P,8))},e.\u0275cmp=w({type:e,selectors:[["re-captcha"]],hostVars:1,hostBindings:function(i,s){i&2&&I("id",s.id)},inputs:{id:"id",siteKey:"siteKey",theme:"theme",type:"type",size:"size",tabIndex:"tabIndex",badge:"badge",errorMode:"errorMode"},outputs:{resolved:"resolved",error:"error",errored:"errored"},exportAs:["reCaptcha"],decls:0,vars:0,template:function(i,s){},encapsulation:2});let n=e;return n})(),L=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l({type:e}),e.\u0275inj=u({});let n=e;return n})(),he=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l({type:e}),e.\u0275inj=u({providers:[k],imports:[L]});let n=e;return n})();var de=(()=>{let e=class e{constructor(t){this.host=t,this.requiresControllerReset=!1}writeValue(t){t?this.host.__unsafe_widgetValue!==t&&!this.host.__unsafe_widgetValue&&(this.requiresControllerReset=!0):this.host.reset()}registerOnChange(t){this.onChange=t,this.requiresControllerReset&&(this.requiresControllerReset=!1,this.onChange(null))}registerOnTouched(t){this.onTouched=t}onResolve(t){this.onChange&&this.onChange(t),this.onTouched&&this.onTouched()}};e.\u0275fac=function(i){return new(i||e)(h(G))},e.\u0275dir=x({type:e,selectors:[["re-captcha","formControlName",""],["re-captcha","formControl",""],["re-captcha","ngModel",""]],hostBindings:function(i,s){i&1&&R("resolved",function(o){return s.onResolve(o)})},features:[S([{multi:!0,provide:D,useExisting:m(()=>e)}])]});let n=e;return n})(),ue=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l({type:e}),e.\u0275inj=u({imports:[B,L]});let n=e;return n})();export{P as a,G as b,he as c,de as d,ue as e};
